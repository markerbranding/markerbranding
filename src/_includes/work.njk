---
layout: 'base.njk'
---
<div data-barba="container" data-barba-namespace="workAll" {{ bgcolor }}>

<article class="article__work">
  <div class="demo">
    {{ html | safe }}
    </div>
  
  <section id="section__hero__work">
    <div class="column__1 work__title">
      <span>Proyectos / <a href="../../work/">{{ tags[0] }}</a> /</span>
      <h1 {{ textcolor }}>{{ title }}</h1>
    </div>
    <div class="column__2">
      <div class="col__left">
        <h3 {{ textcolor }}>Sector</h3>
        <h2>{{ sector }}</h2>
      </div>
      <div class="col__right">
        <h3 {{ textcolor }}>Descripción del cliente</h3>
        <p class="basics">{{ basics }}</p>
      </div>
    </div>
    <div class="column__1">
      <img src="{{ image1 }}" alt="{{ description }}" class="snippet__image" />
    </div>
  </section>

  <section id="section__issue__work">
    <div class="column__2">
      <div class="col__left">
        <h3 {{ textcolor }}>Año</h3>
        <p>{{ year }}</p>
      </div>
      <div class="col__right">
        <h3 {{ textcolor }}>El reto</h3>
        <p class="basics">{{ issue }}</p>
      </div>
    </div>
    <div class="column__1">
      <img src="{{ image2 }}" alt="{{ description }}" class="snippet__image" />
    </div>
  </section>

  <section id="section__solution__work">
    <div class="column__2">
      <div class="col__left">
        <h3 {{ textcolor }}>Servicios</h3>
        {%- for service in services -%}
          <span>{{ service }}</span>
        {%- endfor -%}
      </div>
      <div class="col__right">
        <h3 {{ textcolor }}>La solución</h3>
        <p class="basics">{{ solution }}</p>
      </div>
    </div>
  </section>

  <section id="section__work__list">
    <div class="column__1">
      {{ content | safe }}
    </div>
  </section>

  <section>


    <!-- in v2.0.0 the page argument is optional -->
    {% set previousPost = collections.work | getPreviousCollectionItem %}
    {% set nextPost = collections.work | getNextCollectionItem %}
    
    <!-- in v2.0.0 the page argument is optional -->
    {% if previousPost %} Previous Blog Post: <a href="{{ previousPost.url }}">{{ previousPost.data.title }}</a>{% endif %}
    {% if nextPost %} Next Blog Post: <a href="{{ nextPost.url }}">{{ nextPost.data.title }}</a>{% endif %}
    
  </section>

</article>
</div>


<script>

;(function(){
	function id(v){return document.getElementById(v); }
	function loadbar() {
		var ovrl = id("overlay"),
			log = id("logoloader"),
			prog = id("progress"),
			stat = id("progstat"),
			img = document.images,
			c = 0;
		tot = img.length;

		function imgLoaded(){
			c += 1;
			var perc = ((100/tot*c) << 0) +"%";
			prog.style.width = perc;
			stat.innerHTML = ""+ perc;
			if(c===tot) return doneLoading();
		}
		function doneLoading(){
			ovrl.style.opacity = 0;
			setTimeout(function(){ 
				ovrl.style.display = "none";
				var tlLoad = gsap.timeline();

                tlLoad.to(".inner__transition", {
                    delay: 0.3,
                    height: "0%",
                    ease: "power4.out",
                    duration: 0.5
                })

                tlLoad.to(".transition", {
                    delay: 0,
                    height: "0%",
                    ease: "power4.out",
                    duration: 0.7
                }, "-=0.3");
			}, 1200);
		}
		for(var i=0; i<tot; i++) {
			var tImg     = new Image();
			tImg.onload  = imgLoaded;
			tImg.onerror = imgLoaded;
			tImg.src     = img[i].src;
		}    
	}
	document.addEventListener('DOMContentLoaded', loadbar, false);
}());

  function workAllGsap() {

    loadingDown();

    gsap.to("#section__header", {
      scrollTrigger:{
        trigger:"#section__header",
        endTrigger: ".site-footer",
        start: "top top",
        end: "bottom top",
        pin: "#section__header",
        pinSpacing: false,
      }
    })
  }

</script>